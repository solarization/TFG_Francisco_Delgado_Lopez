# #+begin_export latex
# \lstset{breaklines=true}
# #+end_export
\chapter{C칩digo completo}

Todo el c칩digo que se muestra a continuaci칩n est치 disponible...

* Constructores
#+begin_src R :exports none :results none
library(solaR2)
#+end_src
** calcSol
#+INCLUDE: "d:/solaR2/R/calcSol.R" src R
** calcG0
#+INCLUDE: "d:/solaR2/R/calcG0.R" src R
** calcGef
#+INCLUDE: "d:/solar2/R/calcGef.R" src R
** prodGCPV
#+INCLUDE: "d:/solaR2/R/prodGCPV.R" src R
** prodPVPS
#+INCLUDE: "d:/solaR2/R/prodPVPS.R" src R
** calcShd
#+INCLUDE: "d:/solaR2/R/calcShd.R" src R
** optimShd
#+INCLUDE: "d:/solaR2/R/optimShd.R" src R
** meteoReaders
#+INCLUDE: "d:/solaR2/R/meteoReaders.R" src R

* Clases
** Sol
#+begin_src R :results none
setClass(
         Class='Sol', ##Solar angles
         slots = c(
             lat='numeric',#latitud in degrees, >0 if North
             solD='data.table',#daily angles
             solI='data.table',#intradaily angles
             sample='character',#sample of time
             method='character'#method used for geometry calculations
         ),
    validity=function(object) {return(TRUE)}
)
#+end_src
** Meteo
#+begin_src R :results none
setClass(
    Class = 'Meteo', ##radiation and temperature data
    slots = c(
        latm='numeric',#latitud in degrees, >0 if North
        data='data.table',#data, incluying G (Wh/m2) and Ta
        type='character',#choose between 'prom', 'bd' and 'bdI'
        source='character'#origin of the data
    ),
    validity=function(object) {return(TRUE)}
)
#+end_src
** G0
#+begin_src R :results none
setClass(
    Class = 'G0',
    slots = c(
        G0D = 'data.table',  #result of fCompD
        G0dm = 'data.table', #monthly means
        G0y = 'data.table',  #yearly values
        G0I = 'data.table',  #result of fCompI
        Ta = 'data.table'    #Ambient temperature
    ),
    contains = c('Sol', 'Meteo'),
    validity = function(object) {return(TRUE)}
)

#+end_src
** Gef
#+begin_src R :results none
setClass(
         Class='Gef',
         slots = c(
           GefD='data.table',  #daily values
           Gefdm='data.table', #monthly means
           Gefy='data.table',  #yearly values
           GefI='data.table',  #result of fInclin
           Theta='data.table', #result of fTheta
           iS='numeric',       #dirt index
           alb='numeric',      #albedo
           modeTrk='character',   #tracking mode
           modeShd='character',   #shadow mode
           angGen='list',         #includes alpha, beta and betaLim
           struct='list',         #structure dimensions
           distances='data.frame' #distances between structures
           ),
         contains='G0',
         validity=function(object) {return(TRUE)}
)
#+end_src
** ProdGCPV
#+begin_src R :results none
setClass(
         Class='ProdGCPV',
         slots = c(
           prodD='data.table',  #daily values
           prodDm='data.table', #monthly means
           prody='data.table',  #yearly values
           prodI='data.table',  #results of fProd
           module='list',       #module characteristics
           generator='list',    #generator characteristics
           inverter='list',     #inverter characteristics
           effSys='list'        #efficiency values of the system
           ),
         contains='Gef',
         validity=function(object) {return(TRUE)}
)
#+end_src
** ProdPVPS
#+begin_src R :results none
setClass(
         Class='ProdPVPS',
         slots = c(
           prodD='data.table',  #daily values
           prodDm='data.table', #monthly means
           prody='data.table',  #yearly values
           prodI='data.table',  #results of fPump
           Pg='numeric',        #generator power
           H='numeric',         #manometric head
           pump='list',         #parameters of the pump
           converter='list',    #inverter characteristics
           effSys='list'        #efficiency values of the system
           ),
         contains='Gef',
         validity=function(object) {return(TRUE)}
)
#+end_src
** Shade
#+begin_src R :results none
setClass(
         Class='Shade',
         slots = c(
           FS='numeric',  #shadows factor values
           GRR='numeric', #Ground Requirement Ratio
           Yf='numeric',  #final productivity
           FS.loess='loess', #local fitting of FS with loess
           Yf.loess='loess', #local fitting of Yf with loess
           modeShd='character', #mode of shadow
           struct='list',       #dimensions of the structures
           distances='data.frame', #distances between structures
           res='numeric'           #difference between the different steps of the calculations
           ),
         contains='ProdGCPV',##Resultado de prodGCPV sin sombras (Prod0)
         validity=function(object) {return(TRUE)}
)
#+end_src
