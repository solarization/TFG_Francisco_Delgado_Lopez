\chapter{Estado del arte}
\label{chap:estado-arte}
\section{Situación actual de la generación fotovoltaica}
\label{sec:org33d1784}
\label{sec:situacion-actual-generacion-fotovoltaica}
Según el informe anual de 2023 de la UNEF\footnote{UNEF: Unión Española Fotovoltaica.} \cite{unef23} en 2022 la fotovoltaica se posicionó como la tecnología con más crecimiento a nivel internacional, tanto entre las renovables como entre las no renovables. Se instalaron 240 GWp de nueva capacidad fotovoltaica a nivel mundial, suponiendo esto un incremento del 137\% con respecto a 2021.

A pesar de las diversas crisis internacionales, la energía solar fotovoltaica alcanzó a superar los 1185 GWp instalados. Como otros años, las cifras indican que China continuó siendo el primer actor mundial, superando los 106 GWp de potencia instalada en el año. La Unión Europea se situó en el segundo puesto, duplicando la potencia instalada en 2021, y alcanzando un nuevo record con 41 GWp instalados en 2022.

La producción energía fotovoltaica a nivel mundial representó el 31\% de la capacidad de generación renovable, convirtiendose así en la segunda fuente de generación, solo por detrás de la energía hidráulica. En 2022 se añadió 3 veces más de energía solar que de energía eólica en todo el mundo.

Por otro lado, la Unión Europea superó a EE.UU. como el segundo mayor actor mundial en desarrollo fotovoltaico, instalando un 47\% más que en 2021 y alcanzando una potencia acumulada de más de 208 GWp. España lideró el mercado europeo con 8,6 GWp instalados en 2022, superando a Alemania.

El año 2022 fue significativo en términos legislativos con el lanzamiento del Plan REPowerEU\footnote{Plan REPowerEU: Proyecto por el cual la Unión Europea quiere poner fin a su dependencia de los combustibles fósiles rusos ahorrando energía, diversificando los suministros y acelerando la transción hacia una energía limpia.} \cite{europeo22}. Dentro de este plan, se lanzó la Estrategía de Energía Solar con el objetivo de alcanzar 400 GWp (320 GW) para 2030, incluyendo medidas para desarrollar tejados solares, impulsar la industria fotovoltaica y apoyar la formación de profesionales en el sector.

En 2022, España vivió un auge en el desarrollo fotovoltaico, instalando 5.641 MWp en plantas en suelo, un 30\% más que en 2021, y aumentando el autoconsumo en un 108\%, alcanzando 3.008 MWp. El sector industrial de autoconsumo creció notablemente, representando el 47\% del autoconsumo total.

España implementó varias iniciativas legislativas para enfrentar la volatilidad de precios de la energía y la dependencia del gas, destacando el RD-ley 6/2022 \cite{boe622} y el RD 10/2022 \cite{boe1022}, que han modificado mecanismos de precios y estableciendo límites al precio del gas.

El Plan SE+\footnote{Plan + Seguridad Energética: Se trata de un plan con medidas de rápido impacto dirigidas al invierno 2022/2023, junto con medidas que contribuyen a un refuerzo estructural de esa seguridad energética.} \cite{demografico22} incluye medidas fiscales y administrativas para apoyar las renovables y el autoconsumo. En 2022, se realizaron subastas de energía renovable, asignando 140 MW a solar fotovoltaica en la tercera subasta y 1.800MW en la cuarta, aunque esta última quedó desierta por precios de reserva bajos.

Se adjudicaron 1.200 MW del nudo de transición justa de Andorra a Enel Green Power España, con planes para instalar plantas de hidrógeno verde y agrovoltaica. la actividad en hidrógeno verde y almacenamiento también creció, con fondos adicionales y exenciones de cargos.

El autoconsumo, apoyado por diversas regulaciones y altos precios de la electricidad, registró un crecimiento significativo, alcanzado 2.504 MW de nueva potencia en 2022. Las comunidades energéticas también avanzaron gracias a ayudas específicas, a pesar de la falta de un marco regulatorio definido.

2022 estuvo marcado por los programas financiados por la Unión Europea, especialmente el Mecanismo de Recuperación y Resiliencia \cite{hacienda22} que canaliza los fondos NextGenerationEU \cite{union20}. El PERTE\footnote{PERTE: Proyecto Estratégico para la Recuperación y Transformación Económica.}, aprobado en diciembre de 2021, espera crear más de 280.000 empleos, con ayudas que se ejecutarán hasta 2026. En 2023 se solicitó a Bruselas una adenda para segunda fase del PERTE, obteniendo 2.700 millones de euros adicionales.

La contribución del sector fotovoltaico a la economía española en 2022 fue significativa, aportando 7.014 millones de euros al PIB\footnote{PIB: Producto Interior Bruto.}, un 51\% más que el año anterior, y generando una huella econóimca total de 15.656 millones de euros. En términos de empleo, el sector involucró a 197.383 trabajadores, de los cuales 40.683 fueros directos, 97.600 indirectos y 59.100 inducidos.

El sector industrial fotovoltaico nacional tiene una fuerte presencia en España, con hasta un 65\% de los componenetes manufacturados localmente. Empresas españolas se encuentran entre los principales fabricantes mundiales de inversores y seguidores solares. Además, España es un importante exportador de estructuras fotovoltaicas y cuenta con iniciativas prometedoras para la fabricación de módulos solares.

UNEF promueve la transformación industrial para que España se convierta en un hub industrial fotovoltaico. Se destaca la necesidad de proteger la industria existente, garantizar un crecimiento constante de la capacidad y ofrecer condiciones de financiamiento favorables. Además se propone implementar una Estrategia Industrial Fotovoltaica para contribuir significativamente a la reindustralización de la economía, aprovechando las medidas del REPower Plan, la Estrategia Solar y la Alianza de al Industria Solar Fotovoltaica.

En definitiva, la fotovoltaica es una tecnología en auge y con perspectivas para ser el pilar de la transición ecológica. Por ello, surge la necesidad de encontrar herramientas que permitan estimar el desempeño que estos sistemas pueden tener a la hora de realizar estudios de viabilidad económica.

\section{Solución actual y sus carencias}
\label{sec:org9081d17}
Como se mencionó en el capitulo \ref{chap:introduccion} este proyecto toma su base en el paquete \texttt{solaR} \cite{perpinan12}, el cúal es una herramienta robusta para el cálculo de la radiación solar y el rendimiento de sistemas fotvoltaicos. Este paquete está diseñado utilizando clases \texttt{S4} en \texttt{R}, y su núcleo se basa en series temporales multivariantes almacenadas en objetos de la clase \texttt{zoo}. El paquete permite realizar investigaciones reproducibles sobre el rendimiento de sistemas fotovoltaicos y la radiación solar, proporcionando métodos para calcular la geometría solar, la radiación incidente sobre un generador fotovoltaico, y simular el rendimiento de sistemas fotovoltaicos tanto conectados a la red como de bombeo de agua.

Pese a ser un herramienta muy capaz, \texttt{solaR} presenta una serie de carencias relativas al paquete \texttt{zoo}:
\begin{itemize}
\item \textbf{Eficiencia y rendimiento}: el paquete \texttt{solaR} utiliza \texttt{zoo} para manejar series temporales, lo cual es adecuado para volúmenes de datos moderados. Sin embargo, \texttt{zoo} no está optimizado para operaciones de alta eficiencia en datasets grandes. Por otro lado, \texttt{data.table} está diseñado específicamente para manejar grandes volúmenes de datos de manera eficiente, ofreciendo un rendimiento superior en operaciones de lectura, escritura y manipulación masiva de datos.
\item \textbf{Escalabilidad}: \texttt{solaR} puede experimentar problemas de escalabilidad al trabajar con datasets extensos, ya que \texttt{zoo} no es tan eficiente en operaciones que requieren manipulación compleja o paralelización. Sin embargo, \texttt{data.table} supera esta limitación al proporcionar una infraestructura altamente optimizada para operaciones en paralelo y manejo de grandes conjuntos de datos, permitiendo que las aplicaciones escalen mejor en entornos de datos intensivos.
\item \textbf{Manipulación de datos}: \texttt{zoo} es adecuado para manejar series temporales básicas, pero carece de las capacidades avanzadas de manipulación de datos que ofrece \texttt{data.table}, como la indexación rápida, las uniones eficientes, y la capacidad de realizar operaciones complejas de agrupamiento y agregación. Estas características de \texttt{data.table} permiten un manejo de datos más flexible y potente, lo cual es esencial en análisis de datos complejo y en tiempo real.
\item \textbf{Interoperabilidad}: \texttt{solaR} está algo limitado en términos de integración con otras tecnologías de datos modernas debido a su dependencia en \texttt{zoo}. En cambio, \texttt{data.table} es ampliamente compatible y se integra de manera más fluida con otros paqeutes y herramientas en el ecosistema de R, facilitando la interoperabilidad y la contrucción de pipilines de datos más complejos.
\item \textbf{Consumo de memoria}: \texttt{zoo} puede consumir más memoria en comparación con \texttt{data.table} cuando se trabaja con grandes conjuntos de datos. Por otro lado, \texttt{data.table} está optimizado para operaciones en memoria, lo que permite manejar datasets más grandes sin requerir un incremento proporcionla en el uso de recursos, haciendo que las operaciones sean más sostenibles en términos de memoria.
\end{itemize}

Por lo tanto, al adoptar \texttt{data.table} en \texttt{solaR2}, se abordarían esta limitaciones, proporcionando un paquete más robusto y capaz de manejar los desafíos actuales en el análisis de datos de radiación solar y de producción de sistemas fotovoltaicos.
